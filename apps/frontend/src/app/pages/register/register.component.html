<main class="content">
  @if (!response()) {
    <h2>Registrera dig</h2>

    <form [formGroup]="form" (ngSubmit)="submit()">
      <section>
        <label for="firstname">F칬rnamn <span class="c-red">*</span></label>
        <input pInputText id="firstname" formControlName="firstname" type="text" [minlength]="2" [maxlength]="40" />
        @if(formField("firstname"); as firstname) {
          @if(firstname?.touched && firstname.errors) {
          <small class="c-red">F칬rnamn m친ste best친 av minst 2 bokst칛ver</small>
          }
        }
      </section>

      <section>
        <label for="lastname">Efternamn <span class="c-red">*</span></label>
        <input pInputText id="lastname" formControlName="lastname" type="text" [minlength]="2" [maxlength]="40" />
        @if(formField("lastname"); as lastname) {
          @if(lastname?.touched && lastname.errors) {
          <small class="c-red">Efternamn m친ste best친 av minst 2 bokst칛ver</small>
          }
        }
      </section>

      <section>
        <label for="username">Anv칛ndarnamn <span class="c-red">*</span></label>
        <input pInputText id="username" formControlName="username" type="text" [minlength]="2" [maxlength]="40" />
        @if(formField("username"); as username) {
          @if(username?.touched && username.errors) {
          <small class="c-red">Anv칛ndarnamn m친ste best친 av minst 2 bokst칛ver</small>
          }
        }
      </section>

      <section>
        <label for="password">L칬senord <span class="c-red">*</span></label>
        <input pInputText id="password" formControlName="password" type="password" [minlength]="8" [maxlength]="40" />
        @if(formField("password"); as password) {
          @if(password?.touched && password.errors) {
          <small class="c-red">L칬senord m친ste best친 av minst 8 bokst칛ver</small>
          }
        }
      </section>

      <section>
        <label for="phone">Mobilnummer</label>
        <input pInputText id="phone" formControlName="phone" type="tel" [maxLength]="10" [minlength]="10" />
        @if(formField("phone"); as phone) {
          @if(phone?.touched && phone.errors) {
          <small class="c-red">Mobilnummer m친ste ha 10 siffor</small>
          }
        }
      </section>

      <section>
        <label for="email">Mejladress <span class="c-red">*</span></label>
        <input pInputText id="email" formControlName="email" type="email" email />
        @if(formField("email"); as email) {
          @if(email?.touched && email.errors) {
          <small class="c-red">Mejladress 칛r inte giltig</small>
          }
        }
      </section>

      @if(errorMessage()) {
        <p class="c-red">{{errorMessage()}}</p>
      }

      <p-button label="Registrera" (onClick)="submit()" [disabled]="!form.valid || loading()" />

      <div>
        <br>
        <small>Har du redan ett konto? Testa att <a routerLink="/login" class="c-blue">logga in</a></small>
      </div>
    </form>
  }


  @if (response()) {
    <h1>Hej {{ response()?.firstname }}! Ditt konto har skapats 游댠</h1>
    <p>Logga in f칬r att komma 친t dina medlemsfunktioner</p>
    <p-button label="Logga in!"/>
  }
</main>
